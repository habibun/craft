{#{% extends '::base.html.twig' %}

{% block title %}Drafted-Purchase{% endblock %}#}

{% block body %}
    {% if draftedPurchase is not empty %}
        <div class="state-overview">
            <div class="col-lg-3 col-sm-6">
                    {% for entity in draftedPurchase %}
                        <section class="panel">
                          <div class="symbol yellow">
                              <i class="icon-shopping-cart"></i>
                          </div>
                          <div class="value">
                              <h1 class=" count3">
                                  0
                              </h1>
                              <p>Drafted Purchase</p>
                          </div>
                      </section>
                    {% endfor %}
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/jquery.js') }}"></script>
    <script type="text/javascript">
        var pur = [{% for entity in draftedPurchase %}{{ entity.total_drafted_purchase }}{% endfor %}];
        function countUp3(count)
        {
            var div_by = 100,
                speed = Math.round(count / div_by),
                $display = $('.count3'),
                run_count = 1,
                int_speed = 24;

            var int = setInterval(function() {
                if(run_count < div_by){
                    $display.text(speed * run_count);
                    run_count++;
                } else if(parseInt($display.text()) < count) {
                    var curr_count = parseInt($display.text()) + 1;
                    $display.text(curr_count);
                } else {
                    clearInterval(int);
                }
            }, int_speed);
        }

        countUp3(pur);
    </script>
{% endblock %}